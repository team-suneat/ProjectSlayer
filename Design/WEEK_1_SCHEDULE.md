# 1주차 상세 일정: HUD 및 기본 인프라
**기간: 12월 15일(월) ~ 12월 19일(금)**

---

## 12월 15일 월요일
- *(첫 작업일: 12월 16일 화요일)*

---

## 12월 16일 화요일 (Day 1)

### 완료된 작업
- [x] 씬 시스템 구조 점검 및 보완
- [x] 기본 UI 프레임워크 구축

### 상세 작업 내용

#### 씬 시스템
- [x] 타이틀 씬 UI 구현
  - [x] 모바일 게임 특성상 탭하여 게임 시작 기능 구현
  - [x] GameTitleScene.cs 구현 완료
- [x] 로딩 씬 기본 구조 구현
  - [x] 진행률 표시
  - [x] 로딩 애니메이션/텍스트
  - [x] 리소스 로드 관리
- [x] 게임 메인 씬 기본 구조 구현
  - [x] 인게임 플레이 영역
  - [x] UI 오버레이
  - [x] 토글 및 페이지 기능 추가
- [x] 씬 전환 시스템 테스트
  - [x] 타이틀/로딩/게임메인 씬 연결 완료

#### UI 프레임워크
- [x] UI 매니저 구조 설계
  - [x] UIManager 구현 완료
  - [x] UICanvasManager 구현
  - [x] UIPopupManager 구현
- [x] 팝업 시스템 기본 구조
  - [x] UIPopup 구현 완료
  - [x] UIPopupManager 구현 완료
- [x] 확인/취소 다이얼로그 구현
  - [x] UIPopup 기반 다이얼로그
- [x] Toggle/Page 시스템 구현
  - [x] UIToggle 구현 완료
  - [x] UIToggleGroup 구현 완료
  - [x] UIPage 구현 완료
  - [x] UIPageGroup 구현 완료
  - [x] UITogglePageController 구현 완료
  - [x] UIToggleIcon, UIToggleName, UIToggleLock, UIToggleUpdateIndicator 구현 완료

---

## 12월 17일 수요일 (Day 2)

### 저장/로드 시스템 점검 및 보완

#### 현재 구현 상태
**이미 구현된 기능:**
- [x] GameDataManager 기본 저장/로드 시스템
  - [x] 비동기 저장 지원 (USE_ASYNC_SAVE = true)
  - [x] 저장 쿨다운 시스템 (SAVE_COOLDOWN_TIME = 1.0f)
  - [x] 백업 저장 시스템 (3회마다 자동 백업)
  - [x] 암호화 지원 (AES)
  - [x] 복구 시스템 (LoadGameDataWithRecovery)
  - [x] 데이터 마이그레이션 시스템
- [x] 씬 전환 시 저장 로직
  - [x] GameMainScene.CleanupCurrentScene()에서 SaveGameData() 호출
  - [x] 씬 전환 전 자동 저장 구현됨
- [x] GameApp.Update()에서 ProcessPendingSave() 호출
  - [x] 대기 중인 저장 처리 시스템

**현재 저장되는 데이터 구조 (VProfile):**
- [x] VCharacter (캐릭터 데이터)
- [x] VCharacterLevel (레벨 데이터)
- [x] VCharacterStat (스탯 데이터)
- [x] VCharacterWeapon (무기 데이터)
- [x] VCharacterPotion (물약 데이터)
- [x] VCharacterItem (아이템 데이터)
- [x] VCurrency (재화 데이터)
- [x] VCharacterStage (스테이지 데이터)
- [x] VCharacterSlot (슬롯 데이터)
- [x] VStatistics (통계 데이터)

#### 추가 구현 필요 사항
- [ ] 주기적 자동 저장 구현
  - [ ] 저장 주기 설정 (예: 30초마다)
  - [ ] 저장 트리거 관리
  - [ ] 저장 실패 시 재시도 로직
- [ ] 게임 종료 시 저장 로직
  - [ ] OnApplicationPause 처리 (GameApp에 추가)
  - [ ] OnApplicationFocus 처리 (GameApp에 추가)
  - [ ] 강제 종료 대응 (가능한 범위 내)

#### 세이브 파일 관리 테스트
- [ ] 세이브 파일 관리 테스트
  - [ ] 세이브 파일 생성/삭제 테스트
  - [ ] 세이브 파일 로드 검증 테스트
  - [ ] 세이브 파일 백업/복구 테스트
  - [ ] 데이터 마이그레이션 테스트
  - [ ] 저장 실패 시나리오 테스트

#### 데이터 저장 항목 확장 (향후 추가될 데이터)
- [ ] 게임 데이터 저장 구조 확장
  - [ ] 퀘스트 진행도 데이터 (향후 추가)
  - [ ] 출석보상 데이터 (향후 추가)
  - [ ] 스킬 데이터 (향후 추가)
  - [ ] 장비 데이터 (향후 추가)

#### 데이터 구조 재설계 (현재 게임에 맞게)
- [ ] VCharacter 구조 단순화
  - [ ] 다중 캐릭터 관리 로직 제거
  - [ ] 단일 플레이어 데이터 구조로 변경
  - [ ] 스킬 슬롯 해금 상태 필드 추가
- [ ] VCharacterStat 분리
  - [ ] VCharacterEnhancement 클래스 구현
    - [ ] 골드로 구매하는 강화 능력치 필드 (공격력, 체력, 체력 회복량, 치명타 공격력, 치명타 확률, 회심의 일격, 회심의 일격 확률)
    - [ ] 성장 지식 필드 (괴력, 강철의 육체, 강인한 심장, 초인의 힘)
  - [ ] VCharacterGrowth 클래스 구현
    - [ ] SP(능력치 포인트) 필드
    - [ ] SP로 구매하는 능력치 필드 (STR, HP, VIT, CRI, LUK, ACC, DODGE)
- [ ] VCompanion 시스템 구현
  - [ ] VCompanion 기본 클래스 구현
  - [ ] VCompanionInfo 클래스 구현
    - [ ] 동료 해금 상태 저장
    - [ ] 동료 레벨 저장 (플레이어와 별개)
    - [ ] 강화패시브 레벨 저장 (3개 카테고리)
    - [ ] 전직 정보 저장 (1~7차)
    - [ ] 승급 옵션 저장 (전직별)
  - [ ] VCompanionPromotionOption 클래스 구현
  - [ ] VProfile에 VCompanion 추가
- [ ] 신규 데이터 클래스 구현
  - [ ] VCharacterAccessory 클래스 구현 (악세사리 데이터)
  - [ ] VRelic 클래스 구현 (유물 데이터)
  - [ ] VSpirit 클래스 구현 (정령 데이터)
- [ ] VProfile 업데이트
  - [ ] VCharacterEnhancement 추가
  - [ ] VCharacterGrowth 추가
  - [ ] VCompanion 추가
  - [ ] VCharacterAccessory 추가
  - [ ] VRelic 추가
  - [ ] VSpirit 추가
  - [ ] VCharacterPotion 제거
  - [ ] VCharacterItem 제거
  - [ ] VCharacterSlot 제거
- [ ] 데이터 마이그레이션 코드 작성
  - [ ] 기존 VCharacter 데이터를 새 구조로 변환
  - [ ] 기존 VCharacterStat 데이터를 VCharacterEnhancement와 VCharacterGrowth로 분리
  - [ ] 마이그레이션 테스트
- [ ] 데이터 구조 설계 문서 작성
  - [x] DATA_STRUCTURE_DESIGN.md 작성 완료

---

## 12월 18일 목요일 (Day 3)

### 리소스 관리 시스템 구현 (데이터)

#### 재화 관리 클래스
- [ ] CurrencyManager 클래스 구현
  - [ ] 골드 관리
    - [ ] 골드 획득/소비
    - [ ] 골드 최대값 제한 (선택)
  - [ ] 다이아 관리
    - [ ] 다이아 획득/소비
  - [ ] 에메랄드 관리
    - [ ] 에메랄드 획득/소비
  - [ ] 빛나는 깃털 관리
    - [ ] 빛나는 깃털 획득/소비
  - [ ] 강화큐브 관리
    - [ ] 강화큐브 획득/소비
  - [ ] 속성석 관리
    - [ ] 속성석 획득/소비
- [ ] 재화 획득/소비 시스템
  - [ ] 재화 획득 이벤트
  - [ ] 재화 소비 검증
  - [ ] 재화 부족 시 처리
  - [ ] 재화 변경 알림 시스템

#### 경험치 관리 클래스
- [ ] ExperienceManager 클래스 구현
  - [ ] 경험치 획득/관리
  - [ ] 경험치 표시 및 관리
  - [ ] 레벨업 필요 경험치 계산
  - [ ] 경험치 게이지 계산

### 메인 HUD 구현 (UI)

#### 재화 상시 표시 UI
- [ ] 재화 표시 UI 컴포넌트
  - [ ] 에메랄드 표시 UI
    - [ ] 아이콘
    - [ ] 수량 표시 (숫자 포맷팅)
    - [ ] 애니메이션 (획득 시)
  - [ ] 다이아 표시 UI
    - [ ] 아이콘
    - [ ] 수량 표시 (숫자 포맷팅)
    - [ ] 애니메이션 (획득 시)
  - [ ] 골드 표시 UI
    - [ ] 아이콘
    - [ ] 수량 표시 (숫자 포맷팅)
    - [ ] 애니메이션 (획득 시)
- [ ] 재화 UI 업데이트 시스템
  - [ ] 실시간 재화 변경 반영
  - [ ] 숫자 카운팅 애니메이션 (선택)

#### 경험치 게이지 UI
- [ ] EXP 게이지 UI 컴포넌트
  - [ ] 경험치 게이지 바
  - [ ] 현재 경험치 / 필요 경험치 표시
  - [ ] 레벨 표시
  - [ ] 레벨업 가능 여부 표시 (시각적 피드백)
- [ ] 경험치 게이지 업데이트 시스템
  - [ ] 경험치 획득 시 게이지 업데이트
  - [ ] 레벨업 시 게이지 리셋

#### 스테이지 진행률 게이지 UI
- [ ] 진행률 게이지 UI 컴포넌트
  - [ ] 스테이지 진행률 게이지 바
  - [ ] 현재 웨이브 / 전체 웨이브 표시 (예: 5/20)
  - [ ] 진행률 퍼센트 표시 (선택)
- [ ] 진행률 게이지 업데이트 시스템
  - [ ] 웨이브 클리어 시 진행률 업데이트
  - [ ] 스테이지 변경 시 진행률 리셋

#### 지역 정보 표시
- [ ] 지역 이름 표시 UI
  - [ ] 현재 지역 이름 텍스트
  - [ ] 지역 번호 표시 (예: 1지역)
  - [ ] 지역 정보 업데이트

#### 보스 도전 버튼
- [ ] 보스 도전 버튼 UI
  - [ ] 보스 버튼 컴포넌트
  - [ ] 버튼 활성화/비활성화 상태
  - [ ] 보스 도전 가능 여부 표시
- [ ] 보스 도전 기능
  - [ ] 언제든지 스테이지 보스 도전 기능
  - [ ] 보스 도전 시 모든 스킬 쿨타임 초기화

### 재화 표시 UI 연동
- [ ] CurrencyManager와 UI 연동
  - [ ] 재화 변경 이벤트 구독
  - [ ] UI 자동 업데이트
- [ ] ExperienceManager와 UI 연동
  - [ ] 경험치 변경 이벤트 구독
  - [ ] 게이지 자동 업데이트

---

## 12월 19일 금요일 (Day 4)

### 시간 관리 시스템 구현 (데이터)

#### 플레이 시간 기록 시스템
- [ ] PlayTimeManager 클래스 구현
  - [ ] 게임 시작 시간 기록
  - [ ] 게임 종료 시간 기록
  - [ ] 총 플레이 시간 계산
  - [ ] 세션별 플레이 시간 기록
- [ ] 플레이 시간 저장/로드
  - [ ] 플레이 시간 데이터 저장
  - [ ] 플레이 시간 데이터 로드

#### 오프라인 시간 계산 시스템
- [ ] OfflineTimeManager 클래스 구현
  - [ ] 마지막 플레이 시간 기록
  - [ ] 현재 시간과 비교하여 오프라인 시간 계산
  - [ ] 오프라인 시간 제한 (최대 보상 시간 설정)
  - [ ] 오프라인 시간 검증 (시간 조작 방지)

### 통계/기록 시스템 구현 (데이터)

#### 통계 기록 시스템
- [ ] StatisticsManager 클래스 구현
  - [ ] 총 플레이 시간 기록
  - [ ] 처치한 적 수 기록
  - [ ] 획득한 골드 기록
  - [ ] 클리어한 스테이지 기록
  - [ ] 통계 데이터 저장/로드
- [ ] 통계 업데이트 시스템
  - [ ] 실시간 통계 업데이트
  - [ ] 통계 변경 이벤트

### 1주차 통합 테스트
- [ ] HUD UI 통합 테스트
  - [ ] 모든 재화 표시 정상 동작 확인
  - [ ] 경험치 게이지 정상 동작 확인
  - [ ] 진행률 게이지 정상 동작 확인
- [ ] 데이터 시스템 통합 테스트
  - [ ] 재화 획득/소비 정상 동작 확인
  - [ ] 경험치 시스템 정상 동작 확인
  - [ ] 저장/로드 정상 동작 확인
- [ ] 버그 수정 및 안정화

---

## 1주차 완료 체크리스트

### 씬 시스템
- [x] 타이틀 씬
- [x] 로딩 씬
- [x] 게임 메인 씬
- [x] 씬 전환

### UI 프레임워크
- [x] UI 매니저
- [x] 팝업 시스템
- [x] Toggle/Page 시스템

### 저장/로드 시스템
- [ ] 자동 저장
- [ ] 세이브 파일 관리

### 리소스 관리
- [ ] 재화 관리 클래스
- [ ] 경험치 관리 클래스

### 메인 HUD
- [ ] 재화 표시 UI
- [ ] 경험치 게이지 UI
- [ ] 진행률 게이지 UI
- [ ] 지역 정보 표시
- [ ] 보스 도전 버튼

### 시간/통계 시스템
- [ ] 플레이 시간 기록
- [ ] 오프라인 시간 계산
- [ ] 통계 기록 시스템

---

## 참고사항

- 모든 데이터 클래스는 저장/로드 시스템과 연동되어야 함
- UI는 데이터 변경 시 자동으로 업데이트되어야 함
- HUD는 항상 최신 정보를 표시해야 함

