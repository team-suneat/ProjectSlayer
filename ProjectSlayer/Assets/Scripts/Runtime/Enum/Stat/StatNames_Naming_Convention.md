# StatNames 명명 규칙 (Naming Convention)

## 개요

`StatNames` enum은 게임 내 모든 능력치를 정의하는 열거형입니다. 일관성 있고 명확한 명명 규칙을 따라 능력치 이름을 작성합니다.

## 기본 원칙

1. **PascalCase 사용**: 모든 enum 값은 PascalCase를 사용합니다.
2. **명확성 우선**: 능력치의 의미를 명확히 전달해야 합니다.
3. **일관성 유지**: 기존 패턴을 따라 새로운 능력치를 추가합니다.
4. **주석 필수**: 각 능력치에는 한국어 주석을 반드시 추가합니다.

## 명명 패턴 분류

### 1. 기본 능력치 (Basic Stats)
**형식**: `[능력치명]`

명사형으로 기본 능력치를 표현합니다.

**예시:**
- `Health` - 최대 체력
- `Shield` - 최대 쉴드(보호막)
- `Damage` - 피해량
- `Luck` - 행운 (아이템 등급 출현 확률, 슬롯 같은 아이템 확률 증가)
- `HealthRegen` - 체력 재생량 (1분당 재생되는 체력)

---

### 2. 비율 능력치 (Rate Stats)
**형식**: `[능력치명]Rate`

기본 능력치의 **비율**을 나타내는 능력치입니다. 기본값 대비 비율로 계산됩니다.

**규칙:**
- 기본 능력치명 뒤에 `Rate` 접미사 추가
- 계산: `최종값 = 기본값 × (Rate / 100)`
- 예: `HealthRate = 150` → 기본 체력의 150%

**예시:**
- `DeathDefianceHealRate` - 부활 시 회복되는 체력 비율(%)

**특수 규칙:**
- `RateBy[기준]` 형식: 특정 기준에 의한 비율
  - 예: `DamageRateByShield` - 쉴드에 비례한 피해 비율

---

### 3. 배율 능력치 (Multiplier Stats)
**형식**: `[능력치명]Multi`

기본 능력치의 **배율/증가율**을 나타내는 능력치입니다. 곱셈으로 적용되는 증가율입니다.

**규칙:**
- 기본 능력치명 뒤에 `Multi` 접미사 추가
- 계산: `최종값 = 기본값 × (1 + Multi / 100)`
- 예: `DamageMulti = 50` → 50% 증가 (기본값의 150%)

**예시:**
- `HealthMulti` - 최대 체력 배율(%)
- `ShieldMulti` - 최대 쉴드(보호막) 배율(%)
- `DamageMulti` - 피해량 배율(%) (가시 피해, 무기 피해, 지속 피해 모두 적용)
- `DamageMultiToElite` - 엘리트 몬스터에게 주는 피해량 증가 배율(%)
- `DamageMultiToBoss` - 보스 몬스터에게 주는 피해량 증가 배율(%)
- `CriticalDamageMulti` - 치명타 시 추가 피해 배율(%)
- `CriticalDamageMultiToBoss` - 보스 몬스터에게 치명타 시 추가 피해 배율(%)

**특수 규칙:**
- `MultiTo[대상]` 형식: 특정 대상에 대한 배율
  - 예: `DamageMultiToElite` - 엘리트에게 주는 피해 배율
  - 예: `DamageMultiToBoss` - 보스에게 주는 피해 배율

---

### 4. 특정 대상 대상 능력치 (Target-Specific Stats)
**형식**: `[능력치명]To[대상]`

특정 대상에 대해 적용되는 능력치입니다.

**규칙:**
- 능력치명 뒤에 `To` + 대상명 추가
- 대상명은 PascalCase 사용
- **참고**: 배율 능력치와 함께 사용될 경우 `[능력치명]MultiTo[대상]` 형식 사용

**예시:**
- `DamageMultiToElite` - 엘리트 몬스터에게 주는 피해량 증가 배율(%)
- `DamageMultiToBoss` - 보스 몬스터에게 주는 피해량 증가 배율(%)
- `CriticalDamageMultiToBoss` - 보스 몬스터에게 치명타 시 추가 피해 배율(%)

---

### 5. 카운트/횟수 능력치 (Count Stats)
**형식**: `[능력치명]Count`

횟수, 스택, 개수를 나타내는 능력치입니다.

**규칙:**
- 능력치명 뒤에 `Count` 접미사 추가
- 정수 값 (스택, 횟수 등)

**예시:**
- `AttackCount` - 공격 횟수 (슬롯이 나왔을 때 공격하는 횟수)
- `MultiHitCount` - 공격 타수 (공격 1회당 타격 수)
- `DeathDefianceCount` - 부활 가능 횟수

---

### 6. 확률 능력치 (Chance Stats)
**형식**: `[효과명]Chance`

확률(%)을 나타내는 능력치입니다.

**규칙:**
- 효과명 뒤에 `Chance` 접미사 추가
- 0~100% 범위의 확률 값

**예시:**
- `CriticalChance` - 치명타 확률(%) (무기/공통 치명타 확률은 각각 점감 적용)
- `ExecutionChance` - 처형(즉사) 확률
- `ShockChance` - 감전/스턴 확률
- `EvasionChance` - 회피율
- `KnockbackChance` - 넉백 발생 확률 (적을 한 열 뒤로 이동)
- `EliteSpawnChance` - 엘리트 몬스터 추가 등장 확률(%) (일반 몬스터를 엘리트로 대체)

---

### 7. 피해 타입 능력치 (Damage Type Stats)
**형식**: `[타입명]Damage`

특정 타입의 피해를 나타내는 능력치입니다.

**규칙:**
- 타입명(형용사/명사) + `Damage`
- 타입명은 PascalCase

**예시:**
- `FireDamage` - 화염 속성 피해
- `BleedDamage` - 출혈 피해
- `ThornsDamage` - 가시 피해
- `DamageOverTime` - 지속 피해

---

### 8. 즉시 효과 능력치 (Instant Effect Stats)
**형식**: `Instant[효과명]`

즉시 발동되는 일회성 효과를 나타내는 능력치입니다.

**규칙:**
- `Instant` 접두사 + 효과명
- 일회성 효과 (수치가 아닌 즉시 적용)

**예시:**
- `InstantHeal` - 즉시 체력 회복량
- `InstantShield` - 즉시 쉴드 회복량
- `InstantGold` - 즉시 골드 획득량

---

### 9. 획득량 능력치 (Gain Stats)
**형식**: `[자원명]Gain`

자원 획득량 또는 획득률을 나타내는 능력치입니다.

**규칙:**
- 자원명 + `Gain` 접미사
- 획득량 또는 획득률 증가(%)

**예시:**
- `XPGain` - 경험치 획득량/획득률 증가(%)
- `GoldGain` - 골드 획득량/획득률 증가(%)
- `DiamondGain` - 다이아몬드 획득량/획득률 증가(%)

---

### 9. 복합 능력치 (Complex Stats)
**형식**: `[효과명][추가설명]`

여러 개념을 조합한 복합 능력치입니다.

**규칙:**
- 의미를 명확히 전달하는 명명
- 기존 패턴으로 표현하기 어려운 경우 사용

**예시:**
- `LifeSteal` - 체력 흡수(%) (공격 피해의 일부를 체력으로 회복)
- `DamageReduction` - 받는 피해량 감소(%) (받는 모든 피해량에 적용)
- `ProjectileRicochet` - 발사체 튕김 횟수 (피격한 적의 다음 열에 있는 적 공격)

**특수 규칙:**
- `[복합명]Rate` 형식: 복합 능력치의 비율 표현
  - 예: `DeathDefianceHealRate` - 부활 시 회복되는 체력 비율(%)

---

### 11. 기타 능력치 (Other Stats)
**형식**: 명확한 의미 전달

위 패턴에 해당하지 않는 기타 능력치입니다.

**예시:**
- `Difficulty` - 난이도 (적 능력치 증가 / 등장 수 증가)

**참고:**
- `CriticalDamage`는 `CriticalDamageMulti`로 변경되었습니다.

---

## 능력치 세부 동작 방식

각 능력치의 구체적인 계산 방식과 적용 규칙을 설명합니다.

### 쉴드 (Shield)
- **최대 쉴드량 증가 시**: 현재 쉴드량이 자동으로 회복되지 않음
- **현재 쉴드 회복**: 다른 무기나 효과를 통해 획득

### 치명타 확률 (CriticalChance)
- **계산 방식**: 무기의 치명타 확률과 공통 치명타 확률을 각각 점감 계산 후 적용 (단순 합연산 아님)
- **검사 시점**: 하나의 슬롯이 선정되었을 때 치명타 확률 검사
- **메가 크리티컬**: 슬롯이 3개 이상 같은 게 연달아 나왔을 때 발동
  - 같은 슬롯의 수만큼 치명타 배율 추가 적용 (3개 = ×3, 4개 = ×4)

### 피해량 증가 (DamageMulti)
- **적용 범위**: 모든 피해량에 공통 적용
  - 가시 피해 (ThornsDamage)
  - 무기 피해 (Damage)
  - 지속 피해 (DamageOverTime)

### 발사체 튕김 (ProjectileRicochet)
- **동작 방식**: 피격한 적의 다음 열에 있는 적 중 가장 가까운 적을 공격
- **튕김 수 증가**: 튕김 횟수가 늘어나면 튕기는 열의 수도 함께 증가

### 공격 횟수 (AttackCount) / 공격 타수 (MultiHitCount)
- **공격 횟수**: 슬롯이 나왔을 때 공격하는 횟수
- **공격 타수**: 한 번의 공격에 때리는 횟수
- **동작 예시**: 공격 횟수 2, 공격 타수 3인 경우
  - 3번 공격 → 잠시 대기 → 3번 공격 (총 6번 타격)

### 넉백 (KnockbackChance)
- **동작 방식**: 하나의 적을 한 열 뒤로 이동
- **연쇄 효과**: 뒤에 있는 적이 있다면 해당 적을 한 칸씩 뒤로 이동

### 행운 (Luck)
- **적용 범위**:
  - 레벨업 시 나타나는 아이템의 높은 등급 출현 확률 증가
  - 상자 등에서 아이템의 높은 등급 출현 확률 증가
  - 슬롯에 같은 아이템이 나올 확률 증가

### 난이도 (Difficulty)
- **효과**:
  - 적의 출현 수 증가
  - 적의 능력치 증가 (공격력, 체력)

### 엘리트 출현율 (EliteSpawnChance)
- **동작 방식**: 일반 몬스터가 나타날 때 이 확률을 검사하여 엘리트로 대체

---

## 주석 작성 규칙

### 주석 형식
```csharp
StatName,              // 한국어 설명 (단위)
```

### 주석 작성 원칙
1. **한국어로 작성**: 모든 주석은 한국어로 작성합니다.
2. **단위 표시**: 퍼센트(%)는 주석에 명시하며, **`(%)` 형식으로 공백 없이 작성**합니다.
3. **명확한 설명**: 능력치의 의미를 명확히 설명합니다.
4. **예시 포함**: 필요시 예시를 포함합니다.
5. **일관성 유지**: 동일한 의미의 주석은 일관된 형식으로 작성합니다.

**예시:**
```csharp
Health,                          // 최대 체력
HealthMulti,                     // 최대 체력 배율(%)
CriticalChance,                  // 치명타 확률(%)
DamageMultiToBoss,               // 보스 몬스터에게 주는 피해량 증가 배율(%)
DeathDefianceHealRate,           // 부활 시 회복되는 체력 비율(%)
```

**주의사항:**
- 퍼센트 표시는 `(%)` 형식 사용 (공백 없음)
- 잘못된 예: `// 최대 체력 (%)` (공백 있음)
- 올바른 예: `// 최대 체력(%)` (공백 없음)

---

## 새로운 능력치 추가 가이드

새로운 능력치를 추가할 때 다음 순서를 따릅니다:

### 1단계: 능력치 분류 확인
- 위의 명명 패턴 중 어떤 패턴에 해당하는지 확인

### 2단계: 이름 결정
- 기존 패턴에 맞춰 이름 작성
- 명확하고 간결한 이름 선택
- 기존 능력치와 중복되지 않도록 확인

### 3단계: 위치 결정
- 논리적으로 관련된 능력치들 근처에 배치
- 섹션별로 그룹화 (예: 체력 관련, 피해 관련, 확률 관련 등)

### 4단계: 주석 작성
- 한국어로 명확한 설명 작성
- 단위(%) 표시
- 필요시 예시나 추가 설명 포함

### 예시: 새로운 능력치 추가

**시나리오**: 마나 기반 피해량 증가 능력치 추가

1. **분류**: 배율 능력치 (MultiBy 패턴 사용)
2. **이름**: `DamageMultiByMana`
3. **위치**: `DamageMultiByShield` 근처
4. **주석**: `// 마나량의 n% 만큼 추가 피해 배율(%)`

```csharp
DamageMultiByShield, // 쉴드량의 n% 만큼 추가 피해 배율(%)
DamageMultiByMana,   // 마나량의 n% 만큼 추가 피해 배율(%)
```

---

## 주의사항

### ❌ 피해야 할 명명
- 모호한 이름: significado
- 약어 남용: `DMG`, `HP`, `DEF` (대신 `Damage`, `Health`, `Defense` 사용)
- 일관성 없는 패턴: pygame 게다라 다른 패턴 혼용
- 영어 주석: 영어 주석 금지 (한국어만 사용)

### ✅ 권장 사항
- 명확한 이름: 능력치의 의미를 바로 알 수 있는 이름
- 패턴 일관성: 기존 패턴을 따르는 명명
- 한국어 주석: 모든 주석은 한국어로 작성
- 논리적 그룹화: 관련 능력치들을 함께 배치

---

## 패턴 요약표

| 패턴 | 형식 | 예시 |
|------|------|------|
| 기본 능력치 | `[능력치명]` | `Health`, `Shield`, `Damage` |
| 비율 능력치 | `[능력치명]Rate` | `DeathDefianceHealRate` |
| 배율 능력치 | `[능력치명]Multi` | `HealthMulti`, `DamageMulti` |
| 비율-기준 의존 | `[능력치명]RateBy[기준]` | `DamageRateByShield` |
| 배율-대상 특화 | `[능력치명]MultiTo[대상]` | `DamageMultiToElite`, `DamageMultiToBoss` |
| 카운트 | `[능력치명]Count` | `AttackCount`, `MultiHitCount` |
| 확률 | `[효과명]Chance` | `CriticalChance`, `EvasionChance` |
| 피해 타입 | `[타입명]Damage` | `FireDamage`, `BleedDamage` |
| 즉시 효과 | `Instant[효과명]` | `InstantHeal`, `InstantShield` |
| 획득량 | `[자원명]Gain` | `XPGain`, `GoldGain` |
| 복합 | `[효과명][설명]` | `LifeSteal`, `DamageReduction` |

---

## 변경 이력

- 2024-XX-XX: 초기 문서 작성

